<!DOCTYPE HTML><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Performance Tuning | Go User Documentation</title><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><meta name="description" content=""><meta name="generator" content="GitBook 2.1.0"><meta name="HandheldFriendly" content="true"/><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png"><link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="../gitbook/style.css"><link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-anchors/plugin.css"><link rel="next" href="../installation/troubleshoot_installer.html"/><link rel="prev" href="../installation/ssl_tls_config.html"/></head><body><div class="book" data-level="3.8" data-basepath=".." data-revision="Thu Aug 13 2015 12:25:10 GMT+0530 (IST)"><div class="book-summary"><div class="book-search"><input placeholder="Type to search" class="form-control"/></div><ul class="summary"><li><a href="http://www.go.cd" target="blank" class="custom-link">Home</a></li><li><a href="http://download.go.cd/gocd/user-documentation-15.2.0.pdf" target="blank" class="custom-link">Download as PDF</a></li><li><a href="https://github.com/gocd/documentation/" target="blank" class="custom-link">Contribute</a></li><li class="divider"></li><li class="chapter" data-level="0" data-path="index.html"><a href="../index.html"><i class="fa fa-check"></i> Introduction</a></li><li class="chapter" data-level="1" data-path="introduction/index.html"><a href="../introduction/index.html"><i class="fa fa-check"></i> <b>1.</b> Concepts In Go</a><ul class="articles"><li class="chapter" data-level="1.1" data-path="introduction/concepts_in_go.html"><a href="../introduction/concepts_in_go.html"><i class="fa fa-check"></i> <b>1.1.</b> Concepts in Go</a></li></ul></li><li class="chapter" data-level="2" data-path="navigation/index.html"><a href="../navigation/index.html"><i class="fa fa-check"></i> <b>2.</b> Go Tour</a><ul class="articles"><li class="chapter" data-level="2.1" data-path="navigation/pipelines_dashboard_page.html"><a href="../navigation/pipelines_dashboard_page.html"><i class="fa fa-check"></i> <b>2.1.</b> Pipeline Dashboard</a></li><li class="chapter" data-level="2.2" data-path="navigation/agents_page.html"><a href="../navigation/agents_page.html"><i class="fa fa-check"></i> <b>2.2.</b> Agents</a></li><li class="chapter" data-level="2.3" data-path="navigation/agent_details.html"><a href="../navigation/agent_details.html"><i class="fa fa-check"></i> <b>2.3.</b> Agent Details</a></li><li class="chapter" data-level="2.4" data-path="navigation/pipeline_activity_page.html"><a href="../navigation/pipeline_activity_page.html"><i class="fa fa-check"></i> <b>2.4.</b> Pipeline Activity</a></li><li class="chapter" data-level="2.5" data-path="navigation/stage_details_page.html"><a href="../navigation/stage_details_page.html"><i class="fa fa-check"></i> <b>2.5.</b> Stage Details</a></li><li class="chapter" data-level="2.6" data-path="navigation/job_details_page.html"><a href="../navigation/job_details_page.html"><i class="fa fa-check"></i> <b>2.6.</b> Job Details</a></li><li class="chapter" data-level="2.7" data-path="navigation/administration_page.html"><a href="../navigation/administration_page.html"><i class="fa fa-check"></i> <b>2.7.</b> Administration</a></li><li class="chapter" data-level="2.8" data-path="navigation/server_details_page.html"><a href="../navigation/server_details_page.html"><i class="fa fa-check"></i> <b>2.8.</b> Server Details</a></li><li class="chapter" data-level="2.9" data-path="navigation/environments_page.html"><a href="../navigation/environments_page.html"><i class="fa fa-check"></i> <b>2.9.</b> Environments</a></li><li class="chapter" data-level="2.10" data-path="navigation/value_stream_map.html"><a href="../navigation/value_stream_map.html"><i class="fa fa-check"></i> <b>2.10.</b> Value Stream Map</a></li></ul></li><li class="chapter" data-level="3" data-path="installation/index.html"><a href="../installation/index.html"><i class="fa fa-check"></i> <b>3.</b> Installing Go</a><ul class="articles"><li class="chapter" data-level="3.1" data-path="installation/system_requirements.html"><a href="../installation/system_requirements.html"><i class="fa fa-check"></i> <b>3.1.</b> System requirements</a></li><li class="chapter" data-level="3.2" data-path="installation/installing_go_server.html"><a href="../installation/installing_go_server.html"><i class="fa fa-check"></i> <b>3.2.</b> Installing Go Server</a><ul class="articles"><li class="chapter" data-level="3.2.1" data-path="installation/install/server/linux.html"><a href="../installation/install/server/linux.html"><i class="fa fa-check"></i> <b>3.2.1.</b> Linux</a></li><li class="chapter" data-level="3.2.2" data-path="installation/install/server/windows.html"><a href="../installation/install/server/windows.html"><i class="fa fa-check"></i> <b>3.2.2.</b> Windows</a></li><li class="chapter" data-level="3.2.3" data-path="installation/install/server/osx.html"><a href="../installation/install/server/osx.html"><i class="fa fa-check"></i> <b>3.2.3.</b> Mac OS X</a></li><li class="chapter" data-level="3.2.4" data-path="installation/install/server/solaris.html"><a href="../installation/install/server/solaris.html"><i class="fa fa-check"></i> <b>3.2.4.</b> Solaris</a></li><li class="chapter" data-level="3.2.5" data-path="installation/install/server/zip.html"><a href="../installation/install/server/zip.html"><i class="fa fa-check"></i> <b>3.2.5.</b> Generic Zip</a></li></ul></li><li class="chapter" data-level="3.3" data-path="installation/installing_go_agent.html"><a href="../installation/installing_go_agent.html"><i class="fa fa-check"></i> <b>3.3.</b> Installing Go Agent</a><ul class="articles"><li class="chapter" data-level="3.3.1" data-path="installation/install/agent/linux.html"><a href="../installation/install/agent/linux.html"><i class="fa fa-check"></i> <b>3.3.1.</b> Linux</a></li><li class="chapter" data-level="3.3.2" data-path="installation/install/agent/windows.html"><a href="../installation/install/agent/windows.html"><i class="fa fa-check"></i> <b>3.3.2.</b> Windows</a></li><li class="chapter" data-level="3.3.3" data-path="installation/install/agent/osx.html"><a href="../installation/install/agent/osx.html"><i class="fa fa-check"></i> <b>3.3.3.</b> Mac OS X</a></li><li class="chapter" data-level="3.3.4" data-path="installation/install/agent/solaris.html"><a href="../installation/install/agent/solaris.html"><i class="fa fa-check"></i> <b>3.3.4.</b> Solaris</a></li><li class="chapter" data-level="3.3.5" data-path="installation/install/agent/zip.html"><a href="../installation/install/agent/zip.html"><i class="fa fa-check"></i> <b>3.3.5.</b> Generic Zip</a></li></ul></li><li class="chapter" data-level="3.4" data-path="installation/upgrading_go.html"><a href="../installation/upgrading_go.html"><i class="fa fa-check"></i> <b>3.4.</b> Upgrading Go</a></li><li class="chapter" data-level="3.5" data-path="installation/configuring_server_details.html"><a href="../installation/configuring_server_details.html"><i class="fa fa-check"></i> <b>3.5.</b> Configuring Server Details</a></li><li class="chapter" data-level="3.6" data-path="installation/configure_proxy.html"><a href="../installation/configure_proxy.html"><i class="fa fa-check"></i> <b>3.6.</b> Configure a Proxy</a></li><li class="chapter" data-level="3.7" data-path="installation/ssl_tls_config.html"><a href="../installation/ssl_tls_config.html"><i class="fa fa-check"></i> <b>3.7.</b> Configuring SSL/TLS</a></li><li class="chapter active" data-level="3.8" data-path="installation/performance_tuning.html"><a href="../installation/performance_tuning.html"><i class="fa fa-check"></i> <b>3.8.</b> Performance Tuning</a></li><li class="chapter" data-level="3.9" data-path="installation/troubleshoot_installer.html"><a href="../installation/troubleshoot_installer.html"><i class="fa fa-check"></i> <b>3.9.</b> Troubleshoot installers</a></li></ul></li><li class="chapter" data-level="4" data-path="configuration/index.html"><a href="../configuration/index.html"><i class="fa fa-check"></i> <b>4.</b> Configuration</a><ul class="articles"><li class="chapter" data-level="4.1" data-path="configuration/quick_pipeline_setup.html"><a href="../configuration/quick_pipeline_setup.html"><i class="fa fa-check"></i> <b>4.1.</b> Setup a New Pipeline</a></li><li class="chapter" data-level="4.2" data-path="configuration/managing_pipelines.html"><a href="../configuration/managing_pipelines.html"><i class="fa fa-check"></i> <b>4.2.</b> Managing Pipelines</a></li><li class="chapter" data-level="4.3" data-path="configuration/managing_dependencies.html"><a href="../configuration/managing_dependencies.html"><i class="fa fa-check"></i> <b>4.3.</b> Managing Dependencies</a></li><li class="chapter" data-level="4.4" data-path="configuration/managing_a_build_cloud.html"><a href="../configuration/managing_a_build_cloud.html"><i class="fa fa-check"></i> <b>4.4.</b> Managing Agents</a></li><li class="chapter" data-level="4.5" data-path="configuration/managing_environments.html"><a href="../configuration/managing_environments.html"><i class="fa fa-check"></i> <b>4.5.</b> Managing Environments</a></li><li class="chapter" data-level="4.6" data-path="configuration/build_labelling.html"><a href="../configuration/build_labelling.html"><i class="fa fa-check"></i> <b>4.6.</b> Pipeline Labelling</a></li><li class="chapter" data-level="4.7" data-path="configuration/pipeline_scheduling.html"><a href="../configuration/pipeline_scheduling.html"><i class="fa fa-check"></i> <b>4.7.</b> Pipeline Scheduling</a></li><li class="chapter" data-level="4.8" data-path="configuration/admin_use_parameters_in_configuration.html"><a href="../configuration/admin_use_parameters_in_configuration.html"><i class="fa fa-check"></i> <b>4.8.</b> Parameterize a Pipeline</a></li><li class="chapter" data-level="4.9" data-path="configuration/admin_use_custom_pipeline_label.html"><a href="../configuration/admin_use_custom_pipeline_label.html"><i class="fa fa-check"></i> <b>4.9.</b> Customize a Pipeline Label</a></li><li class="chapter" data-level="4.10" data-path="configuration/admin_clone_pipeline.html"><a href="../configuration/admin_clone_pipeline.html"><i class="fa fa-check"></i> <b>4.10.</b> Clone a Pipeline</a></li><li class="chapter" data-level="4.11" data-path="configuration/admin_lock_pipelines.html"><a href="../configuration/admin_lock_pipelines.html"><i class="fa fa-check"></i> <b>4.11.</b> Lock a Pipeline</a></li><li class="chapter" data-level="4.12" data-path="configuration/admin_add_material.html"><a href="../configuration/admin_add_material.html"><i class="fa fa-check"></i> <b>4.12.</b> Add Material to Existing Pipeline</a></li><li class="chapter" data-level="4.13" data-path="configuration/admin_add_stage.html"><a href="../configuration/admin_add_stage.html"><i class="fa fa-check"></i> <b>4.13.</b> Add Stage to Existing Pipeline</a></li><li class="chapter" data-level="4.14" data-path="configuration/admin_add_job.html"><a href="../configuration/admin_add_job.html"><i class="fa fa-check"></i> <b>4.14.</b> Add job to Existing Stage</a></li><li class="chapter" data-level="4.15" data-path="configuration/admin_add_task.html"><a href="../configuration/admin_add_task.html"><i class="fa fa-check"></i> <b>4.15.</b> Add task to Existing Job</a></li><li class="chapter" data-level="4.16" data-path="configuration/pipeline_templates.html"><a href="../configuration/pipeline_templates.html"><i class="fa fa-check"></i> <b>4.16.</b> Pipeline Templates</a></li><li class="chapter" data-level="4.17" data-path="configuration/dev_choose_when_stage_runs.html"><a href="../configuration/dev_choose_when_stage_runs.html"><i class="fa fa-check"></i> <b>4.17.</b> Choose When a Stage Runs</a></li><li class="chapter" data-level="4.18" data-path="configuration/admin_timer.html"><a href="../configuration/admin_timer.html"><i class="fa fa-check"></i> <b>4.18.</b> Timer Trigger</a></li><li class="chapter" data-level="4.19" data-path="configuration/job_timeout.html"><a href="../configuration/job_timeout.html"><i class="fa fa-check"></i> <b>4.19.</b> Job Timeout</a></li><li class="chapter" data-level="4.20" data-path="configuration/managing_users.html"><a href="../configuration/managing_users.html"><i class="fa fa-check"></i> <b>4.20.</b> Managing Users</a></li><li class="chapter" data-level="4.21" data-path="configuration/dev_authentication.html"><a href="../configuration/dev_authentication.html"><i class="fa fa-check"></i> <b>4.21.</b> Authentication</a></li><li class="chapter" data-level="4.22" data-path="configuration/dev_authorization.html"><a href="../configuration/dev_authorization.html"><i class="fa fa-check"></i> <b>4.22.</b> Authorizing Users</a></li><li class="chapter" data-level="4.23" data-path="configuration/delegating_group_administration.html"><a href="../configuration/delegating_group_administration.html"><i class="fa fa-check"></i> <b>4.23.</b> Delegating Group Administration</a></li><li class="chapter" data-level="4.24" data-path="configuration/pipeline_group_admin_config.html"><a href="../configuration/pipeline_group_admin_config.html"><i class="fa fa-check"></i> <b>4.24.</b> Pipeline Group Administration</a></li><li class="chapter" data-level="4.25" data-path="configuration/dev_upload_test_report.html"><a href="../configuration/dev_upload_test_report.html"><i class="fa fa-check"></i> <b>4.25.</b> Publish Reports and Artifacts</a></li><li class="chapter" data-level="4.26" data-path="configuration/managing_artifacts_and_reports.html"><a href="../configuration/managing_artifacts_and_reports.html"><i class="fa fa-check"></i> <b>4.26.</b> Managing Artifacts and Reports</a></li><li class="chapter" data-level="4.27" data-path="configuration/delete_artifacts.html"><a href="../configuration/delete_artifacts.html"><i class="fa fa-check"></i> <b>4.27.</b> Auto Delete Artifacts</a></li><li class="chapter" data-level="4.28" data-path="configuration/ui_testing.html"><a href="../configuration/ui_testing.html"><i class="fa fa-check"></i> <b>4.28.</b> UI Testing</a></li><li class="chapter" data-level="4.29" data-path="configuration/admin_mailhost_info.html"><a href="../configuration/admin_mailhost_info.html"><i class="fa fa-check"></i> <b>4.29.</b> Mailhost Information</a></li><li class="chapter" data-level="4.30" data-path="configuration/dev_notifications.html"><a href="../configuration/dev_notifications.html"><i class="fa fa-check"></i> <b>4.30.</b> Notifications</a></li><li class="chapter" data-level="4.31" data-path="configuration/tfs_config.html"><a href="../configuration/tfs_config.html"><i class="fa fa-check"></i> <b>4.31.</b> TFS Material configuration</a></li><li class="chapter" data-level="4.32" data-path="configuration/configuration_reference.html"><a href="../configuration/configuration_reference.html"><i class="fa fa-check"></i> <b>4.32.</b> Reference</a></li><li class="chapter" data-level="4.33" data-path="configuration/schema.html"><a href="../configuration/schema.html"><i class="fa fa-check"></i> <b>4.33.</b> Schema</a></li></ul></li><li class="chapter" data-level="5" data-path="advanced_usage/index.html"><a href="../advanced_usage/index.html"><i class="fa fa-check"></i> <b>5.</b> Advanced Usage</a><ul class="articles"><li class="chapter" data-level="5.1" data-path="advanced_usage/agent_auto_register.html"><a href="../advanced_usage/agent_auto_register.html"><i class="fa fa-check"></i> <b>5.1.</b> Auto Register a Remote Agent</a></li><li class="chapter" data-level="5.2" data-path="advanced_usage/admin_spawn_multiple_jobs.html"><a href="../advanced_usage/admin_spawn_multiple_jobs.html"><i class="fa fa-check"></i> <b>5.2.</b> Spawn multiple instances of a Job</a></li><li class="chapter" data-level="5.3" data-path="advanced_usage/admin_install_multiple_agents.html"><a href="../advanced_usage/admin_install_multiple_agents.html"><i class="fa fa-check"></i> <b>5.3.</b> Multiple Agents on One Machine</a></li><li class="chapter" data-level="5.4" data-path="advanced_usage/dev_clean_up_when_cancel.html"><a href="../advanced_usage/dev_clean_up_when_cancel.html"><i class="fa fa-check"></i> <b>5.4.</b> Clean on Task Cancel</a></li><li class="chapter" data-level="5.5" data-path="advanced_usage/dev_conditional_task_execution.html"><a href="../advanced_usage/dev_conditional_task_execution.html"><i class="fa fa-check"></i> <b>5.5.</b> Conditional Task Execution</a></li><li class="chapter" data-level="5.6" data-path="advanced_usage/trigger_with_options.html"><a href="../advanced_usage/trigger_with_options.html"><i class="fa fa-check"></i> <b>5.6.</b> Trigger With Options</a></li><li class="chapter" data-level="5.7" data-path="advanced_usage/fan_in.html"><a href="../advanced_usage/fan_in.html"><i class="fa fa-check"></i> <b>5.7.</b> Fan In</a></li><li class="chapter" data-level="5.8" data-path="advanced_usage/properties.html"><a href="../advanced_usage/properties.html"><i class="fa fa-check"></i> <b>5.8.</b> Properties</a></li><li class="chapter" data-level="5.9" data-path="advanced_usage/compare_pipelines.html"><a href="../advanced_usage/compare_pipelines.html"><i class="fa fa-check"></i> <b>5.9.</b> Compare Builds</a></li><li class="chapter" data-level="5.10" data-path="advanced_usage/stage_duration_chart.html"><a href="../advanced_usage/stage_duration_chart.html"><i class="fa fa-check"></i> <b>5.10.</b> Graphs</a></li><li class="chapter" data-level="5.11" data-path="advanced_usage/command_repository.html"><a href="../advanced_usage/command_repository.html"><i class="fa fa-check"></i> <b>5.11.</b> Command Repository</a></li><li class="chapter" data-level="5.12" data-path="advanced_usage/one_click_backup.html"><a href="../advanced_usage/one_click_backup.html"><i class="fa fa-check"></i> <b>5.12.</b> Backup Go Server</a></li><li class="chapter" data-level="5.13" data-path="advanced_usage/other_config_options.html"><a href="../advanced_usage/other_config_options.html"><i class="fa fa-check"></i> <b>5.13.</b> Other Config Options</a></li></ul></li><li class="chapter" data-level="6" data-path="integration/index.html"><a href="../integration/index.html"><i class="fa fa-check"></i> <b>6.</b> Integrating Go With Other Tools</a><ul class="articles"><li class="chapter" data-level="6.1" data-path="integration/go_integration.html"><a href="../integration/go_integration.html"><i class="fa fa-check"></i> <b>6.1.</b> Integration with External Tools</a></li><li class="chapter" data-level="6.2" data-path="integration/gadgets.html"><a href="../integration/gadgets.html"><i class="fa fa-check"></i> <b>6.2.</b> Gadgets</a></li><li class="chapter" data-level="6.3" data-path="integration/mingle_integration.html"><a href="../integration/mingle_integration.html"><i class="fa fa-check"></i> <b>6.3.</b> Mingle Integration</a></li><li class="chapter" data-level="6.4" data-path="integration/mingle_in_go.html"><a href="../integration/mingle_in_go.html"><i class="fa fa-check"></i> <b>6.4.</b> Displaying Mingle gadgets in Go</a></li><li class="chapter" data-level="6.5" data-path="integration/mingle_card_activity_gadget.html"><a href="../integration/mingle_card_activity_gadget.html"><i class="fa fa-check"></i> <b>6.5.</b> Mingle Card Activity Gadget</a></li></ul></li><li class="chapter" data-level="7" data-path="api/index.html"><a href="../api/index.html"><i class="fa fa-check"></i> <b>7.</b> Go Api</a><ul class="articles"><li class="chapter" data-level="7.1" data-path="api/go_api.html"><a href="../api/go_api.html"><i class="fa fa-check"></i> <b>7.1.</b> Introducing Go API</a></li><li class="chapter" data-level="7.2" data-path="api/pipeline_group_api.html"><a href="../api/pipeline_group_api.html"><i class="fa fa-check"></i> <b>7.2.</b> Pipeline Group API</a></li><li class="chapter" data-level="7.3" data-path="api/pipeline_api.html"><a href="../api/pipeline_api.html"><i class="fa fa-check"></i> <b>7.3.</b> Pipeline API</a></li><li class="chapter" data-level="7.4" data-path="api/stages_api.html"><a href="../api/stages_api.html"><i class="fa fa-check"></i> <b>7.4.</b> Stages API</a></li><li class="chapter" data-level="7.5" data-path="api/job_api.html"><a href="../api/job_api.html"><i class="fa fa-check"></i> <b>7.5.</b> Job API</a></li><li class="chapter" data-level="7.6" data-path="api/agent_api.html"><a href="../api/agent_api.html"><i class="fa fa-check"></i> <b>7.6.</b> Agent API</a></li><li class="chapter" data-level="7.7" data-path="api/materials_api.html"><a href="../api/materials_api.html"><i class="fa fa-check"></i> <b>7.7.</b> Materials API</a></li><li class="chapter" data-level="7.8" data-path="api/configuration_api.html"><a href="../api/configuration_api.html"><i class="fa fa-check"></i> <b>7.8.</b> Configuration API</a></li><li class="chapter" data-level="7.9" data-path="api/artifacts_api.html"><a href="../api/artifacts_api.html"><i class="fa fa-check"></i> <b>7.9.</b> Artifacts API</a></li><li class="chapter" data-level="7.10" data-path="api/users_api.html"><a href="../api/users_api.html"><i class="fa fa-check"></i> <b>7.10.</b> Users API</a></li><li class="chapter" data-level="7.11" data-path="api/backup_api.html"><a href="../api/backup_api.html"><i class="fa fa-check"></i> <b>7.11.</b> Backup API</a></li><li class="chapter" data-level="7.12" data-path="api/properties_api.html"><a href="../api/properties_api.html"><i class="fa fa-check"></i> <b>7.12.</b> Properties API</a></li><li class="chapter" data-level="7.13" data-path="api/feeds_api.html"><a href="../api/feeds_api.html"><i class="fa fa-check"></i> <b>7.13.</b> Feeds API</a></li><li class="chapter" data-level="7.14" data-path="api/command_repo_api.html"><a href="../api/command_repo_api.html"><i class="fa fa-check"></i> <b>7.14.</b> Command Repo API</a></li></ul></li><li class="chapter" data-level="8" data-path="extension_points/index.html"><a href="../extension_points/index.html"><i class="fa fa-check"></i> <b>8.</b> Extension Points Of Go</a><ul class="articles"><li class="chapter" data-level="8.1" data-path="extension_points/plugin_user_guide.html"><a href="../extension_points/plugin_user_guide.html"><i class="fa fa-check"></i> <b>8.1.</b> Plugin User Guide</a></li><li class="chapter" data-level="8.2" data-path="extension_points/package_repository_extension.html"><a href="../extension_points/package_repository_extension.html"><i class="fa fa-check"></i> <b>8.2.</b> Package Repository Extension</a></li><li class="chapter" data-level="8.3" data-path="extension_points/yum_repository_poller.html"><a href="../extension_points/yum_repository_poller.html"><i class="fa fa-check"></i> <b>8.3.</b> Yum Repository Poller</a></li><li class="chapter" data-level="8.4" data-path="extension_points/scm_extension.html"><a href="../extension_points/scm_extension.html"><i class="fa fa-check"></i> <b>8.4.</b> SCM Extension</a></li><li class="chapter" data-level="8.5" data-path="extension_points/task_extension.html"><a href="../extension_points/task_extension.html"><i class="fa fa-check"></i> <b>8.5.</b> Task Extension</a></li><li class="chapter" data-level="8.6" data-path="extension_points/notification_extension.html"><a href="../extension_points/notification_extension.html"><i class="fa fa-check"></i> <b>8.6.</b> Notification Extension</a></li></ul></li><li class="chapter" data-level="9" data-path="faq/index.html"><a href="../faq/index.html"><i class="fa fa-check"></i> <b>9.</b> FAQ/Troubleshooting</a><ul class="articles"><li class="chapter" data-level="9.1" data-path="faq/ordering_of_pipelines.html"><a href="../faq/ordering_of_pipelines.html"><i class="fa fa-check"></i> <b>9.1.</b> Ordering of Pipelines</a></li><li class="chapter" data-level="9.2" data-path="faq/stage_old_config.html"><a href="../faq/stage_old_config.html"><i class="fa fa-check"></i> <b>9.2.</b> Historical Configuration</a></li><li class="chapter" data-level="9.3" data-path="faq/concurrent_config_modifications.html"><a href="../faq/concurrent_config_modifications.html"><i class="fa fa-check"></i> <b>9.3.</b> Concurrent Modifications to Config</a></li><li class="chapter" data-level="9.4" data-path="faq/dev_understand_why_build_broken.html"><a href="../faq/dev_understand_why_build_broken.html"><i class="fa fa-check"></i> <b>9.4.</b> Why the Build is Broken?</a></li><li class="chapter" data-level="9.5" data-path="faq/dev_see_artifact_as_tab.html"><a href="../faq/dev_see_artifact_as_tab.html"><i class="fa fa-check"></i> <b>9.5.</b> See artifacts as sub-tabs</a></li><li class="chapter" data-level="9.6" data-path="faq/dev_save_properties.html"><a href="../faq/dev_save_properties.html"><i class="fa fa-check"></i> <b>9.6.</b> Save Properties for a Build</a></li><li class="chapter" data-level="9.7" data-path="faq/dev_use_current_revision_in_build.html"><a href="../faq/dev_use_current_revision_in_build.html"><i class="fa fa-check"></i> <b>9.7.</b> Using Environment variables</a></li><li class="chapter" data-level="9.8" data-path="faq/rm_deploy_to_environment.html"><a href="../faq/rm_deploy_to_environment.html"><i class="fa fa-check"></i> <b>9.8.</b> Deploy to an environment</a></li><li class="chapter" data-level="9.9" data-path="faq/tester_what_has_changed.html"><a href="../faq/tester_what_has_changed.html"><i class="fa fa-check"></i> <b>9.9.</b> See changes in new binary</a></li><li class="chapter" data-level="9.10" data-path="faq/dependency_management.html"><a href="../faq/dependency_management.html"><i class="fa fa-check"></i> <b>9.10.</b> Run Tests against new Builds</a></li><li class="chapter" data-level="9.11" data-path="faq/rm_what_is_deployed.html"><a href="../faq/rm_what_is_deployed.html"><i class="fa fa-check"></i> <b>9.11.</b> Check What&#39;s Deployed</a></li><li class="chapter" data-level="9.12" data-path="faq/deploy_a_specific_build_to_an_environment.html"><a href="../faq/deploy_a_specific_build_to_an_environment.html"><i class="fa fa-check"></i> <b>9.12.</b> Deploy a Specific Build</a></li><li class="chapter" data-level="9.13" data-path="faq/agent_guid_issue.html"><a href="../faq/agent_guid_issue.html"><i class="fa fa-check"></i> <b>9.13.</b> Clone/Copy an Existing Agents</a></li><li class="chapter" data-level="9.14" data-path="faq/oauth_overview.html"><a href="../faq/oauth_overview.html"><i class="fa fa-check"></i> <b>9.14.</b> OAuth Overview</a></li><li class="chapter" data-level="9.15" data-path="faq/what_is_oauth.html"><a href="../faq/what_is_oauth.html"><i class="fa fa-check"></i> <b>9.15.</b> What is OAuth?</a></li><li class="chapter" data-level="9.16" data-path="faq/what_is_opensocial.html"><a href="../faq/what_is_opensocial.html"><i class="fa fa-check"></i> <b>9.16.</b> What is OpenSocial?</a></li><li class="chapter" data-level="9.17" data-path="faq/job_rerun.html"><a href="../faq/job_rerun.html"><i class="fa fa-check"></i> <b>9.17.</b> How do I re-run jobs?</a></li><li class="chapter" data-level="9.18" data-path="faq/material_update_hung.html"><a href="../faq/material_update_hung.html"><i class="fa fa-check"></i> <b>9.18.</b> Go unable to poll for changes</a></li><li class="chapter" data-level="9.19" data-path="faq/artifact_integrity.html"><a href="../faq/artifact_integrity.html"><i class="fa fa-check"></i> <b>9.19.</b> Artifact integrity verification</a></li><li class="chapter" data-level="9.20" data-path="faq/notifications_page.html"><a href="../faq/notifications_page.html"><i class="fa fa-check"></i> <b>9.20.</b> Email Notifications</a></li><li class="chapter" data-level="9.21" data-path="faq/admin_out_of_disk_space.html"><a href="../faq/admin_out_of_disk_space.html"><i class="fa fa-check"></i> <b>9.21.</b> Running out of Disk Space</a></li></ul></li><li class="chapter" data-level="10" data-path="beta/index.html"><a href="../beta/index.html"><i class="fa fa-check"></i> <b>10.</b> Beta features</a><ul class="articles"><li class="chapter" data-level="10.1" data-path="beta/comment_on_pipeline_run.html"><a href="../beta/comment_on_pipeline_run.html"><i class="fa fa-check"></i> <b>10.1.</b> Comment on a pipeline run</a></li><li class="chapter" data-level="10.2" data-path="beta/plugin_upload.html"><a href="../beta/plugin_upload.html"><i class="fa fa-check"></i> <b>10.2.</b> Plugin upload from within Go</a></li></ul></li><li class="chapter" data-level="11" data-path="release_history/index.html"><a href="../release_history/index.html"><i class="fa fa-check"></i> <b>11.</b> Release History</a><ul class="articles"><li class="chapter" data-level="11.1" data-path="release_history/whats_new_in_go.html"><a href="../release_history/whats_new_in_go.html"><i class="fa fa-check"></i> <b>11.1.</b> What&#39;s New in Go</a></li></ul></li><li class="divider"></li><li><a href="https://www.gitbook.com" target="blank" class="gitbook-link">Published with GitBook</a></li></ul></div><div class="book-body"><div class="body-inner"><div class="book-header"><a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a> <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a><div id="font-settings-wrapper" class="dropdown pull-left"><a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i></a><div class="dropdown-menu font-settings"><div class="dropdown-caret"><span class="caret-outer"></span> <span class="caret-inner"></span></div><div class="buttons"><button type="button" id="reduce-font-size" class="button size-2">A</button> <button type="button" id="enlarge-font-size" class="button size-2">A</button></div><div class="buttons font-family-list"><button type="button" data-font="0" class="button">Serif</button> <button type="button" data-font="1" class="button">Sans</button></div><div class="buttons color-theme-list"><button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button> <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button> <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button></div></div></div><div class="dropdown pull-right"><a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i></a><div class="dropdown-menu font-settings dropdown-left"><div class="dropdown-caret"><span class="caret-outer"></span> <span class="caret-inner"></span></div><div class="buttons"><button type="button" data-sharing="twitter" class="button">Share on Twitter</button> <button type="button" data-sharing="google-plus" class="button">Share on Google</button> <button type="button" data-sharing="facebook" class="button">Share on Facebook</button> <button type="button" data-sharing="weibo" class="button">Share on Weibo</button> <button type="button" data-sharing="instapaper" class="button">Share on Instapaper</button></div></div></div><a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a> <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a> <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a><h1><i class="fa fa-circle-o-notch fa-spin"></i> <a href="../">Go User Documentation</a></h1></div><div class="page-wrapper" tabindex="-1"><div class="page-inner"><section class="normal" id="section-"><h1 id="performance-tuning"><a name="performance-tuning" class="plugin-anchor" href="#performance-tuning"><span class="fa fa-link"></span></a>Performance Tuning</h1><h2 id="capacity-planning"><a name="capacity-planning" class="plugin-anchor" href="#capacity-planning"><span class="fa fa-link"></span></a>Capacity Planning</h2><p>This section provides recommendations to evaluate server hardware and memory requirements for your Go server. It also highlights some configurations which need to be taken care of when scaling Go.</p><h3 id="minimum-server-requirements"><a name="minimum-server-requirements" class="plugin-anchor" href="#minimum-server-requirements"><span class="fa fa-link"></span></a>Minimum server requirements</h3><p>The minimum requirements for a Go server can be found <a href="system_requirements.html">here</a></p><h3 id="scaling-go"><a name="scaling-go" class="plugin-anchor" href="#scaling-go"><span class="fa fa-link"></span></a>Scaling Go</h3><p>As the number of pipelines, agents and concurrent users increase in your setup, Go server may have to be scaled up by adding more memory and cores.</p><p>If you have questions or have custom requirements, please contact support@thoughtworks.com to help with capacity planning for Go server</p><h3 id="things-to-remember"><a name="things-to-remember" class="plugin-anchor" href="#things-to-remember"><span class="fa fa-link"></span></a>Things to Remember</h3><p>Do not run any other CPU intensive applications on the same box as the Go Server.</p><p>When the Go server is being scaled up to run with larger number of pipeline, agents and materials, ensure that the JVM has been allocated appropriate heap sizes. The default values for the Go server are <code>-Xms512m</code> (minimum) and <code>-Xmx1024m</code> (maximum). These values can be increased by setting the environment variables <code>SERVER_MEM</code> (for minimum) and <code>SERVER_MAX_MEM</code> (for maximum).</p><p>On linux, these can be added/updated in /etc/default/go-server. On Windows, copy the following lines in <em><a href="installing_go_server.html">wrapper-properties.conf</a></em> and change it to desired value.</p><pre><code>wrapper.java.additional.1=-Xms512m
wrapper.java.additional.2=-Xmx1024m
</code></pre><p>For linux/unix users: If more than 100 agents are being used, an exception might be seen in <code>go-server.log</code> mentioning &quot;Too many open files&quot;. This may be an indication that there is a need to increase the number of file descriptors on the machine where Go Server is installed. On linux the command <code>ulimit -n</code> can be used to check the total number of file descriptors. To bump up the total number for file descriptors user and system, follow these steps:</p><ol><li>Edit <code>/etc/security/limits.conf</code> and add the lines:<code>soft nofile 1024 * hard nofile 65535</code></li><li>Edit <code>/etc/pam.d/login</code>, adding the line: <code>session required /lib/security/pam_limits.so</code></li><li>The system file descriptor limit can be increased by setting <code>fs.file-max</code> in the file <code>/etc/sysctl.conf</code>. To set the limit to <code>65535</code> use <code>echo &quot;fs.file-max = 65535&quot; &gt;&gt; /etc/sysctl.conf</code></li></ol><h3 id="tuning-your-jvm"><a name="tuning-your-jvm" class="plugin-anchor" href="#tuning-your-jvm"><span class="fa fa-link"></span></a>Tuning your JVM</h3><p>Ensure that the latest JVM is used always, as there are major performance improvements with every release.</p><p>The minimum and maximum JVM heap space allocated to the Go server affects its performance. Go uses default values of <code>512m</code> and <code>1024m</code> for minimum and maximum JVM heap sizes respectively. However, for production environments, we recommend setting the minimum and maximum values to an identical value.</p><p>The default heap settings mentioned above are for a 32-bit JVM. But if the Go server is facing performance issues we recommend doubling the values in the heap settings and measuring performance. If its seen that more than 3 GB of heap memory is needed, we recommend a switch to 64-bit JVM. Our tests show that Go server performs much better on a 64 bit JVM than a 32 bit JVM provided the heap memory has been increased appropriately. This is needed because 64-bit JVM makes use of 64-bit addresses instead of 32bits, allowing it to use more memory.</p><p>Start with the default settings and increase the heap memory incrementally to suit your application.</p><h3 id="storage"><a name="storage" class="plugin-anchor" href="#storage"><span class="fa fa-link"></span></a>Storage</h3><p>For optimal performance in artifact transfer Go would need storage with good disk I/O throughput. We recommend local storage for Go database and artifacts. Disk space can be reclaimed through deletion of historical artifacts.</p><p>If using network storage is preferred, ensure that the speeds and throughput are good.</p><p>Use RAID Configuration for higher throughput if the Go Server is expected to be an intensive setup. If you expect to have large artifacts you could use use different RAID configurations for Go database and artifacts. For example, 2 drives on RAID1 can be be used for the Go database (for redundancy), 3+ hard drives on RAID5 can be used for artifacts so that access to database and artifacts is optimized.</p><h3 id="improving-server-startup-time"><a name="improving-server-startup-time" class="plugin-anchor" href="#improving-server-startup-time"><span class="fa fa-link"></span></a>Improving Server Startup Time</h3><p>The start up time for a very large Go Server instance could be improved by delaying material polling and pipeline scheduling to a few seconds after the server starts up. This would allow the server to warm up and cache some of the data before it is bombarded with threads that poll for material updates and pipelines that need to be scheduled. Following are the JVM properties that enable such a delay:</p><ul><li><p><code>cruise.material.update.delay</code> - This value is specified in milliseconds. It has a default value of 10,000. This means that material polling would only start 10s after the server starts.</p></li><li><p><code>cruise.produce.build.cause.delay</code> - Likewise, this value is also specified in milliseconds. It again defaults to 10,000 meaning that scheduling of pipelines would take place only 10s after the server starts up.</p></li></ul><p>The two values above do not affect the frequency of material polling or pipeline scheduling.</p><h2 id="troubleshooting"><a name="troubleshooting" class="plugin-anchor" href="#troubleshooting"><span class="fa fa-link"></span></a>Troubleshooting</h2><h3 id="enable-gc-logging"><a name="enable-gc-logging" class="plugin-anchor" href="#enable-gc-logging"><span class="fa fa-link"></span></a>Enable GC Logging</h3><p>An easy way to check the memory usage, heap size (initial and over time) and GC metrics of the application is by turning on GC logging. GC logging can be enabled using the following JVM arguments while starting the application (Note: the log file specified as file is reset each time the VM starts.)</p><pre><code>-verbose:gc -Xloggc:file -XX:+PrintGCTimeStamps
</code></pre><p>In case of the Go server, these arguments will have to be added in the script that starts the Go jar:</p><ul><li>For linux : <code>/usr/share/go-server/server.sh</code></li><li>For Windows: <code>[go_server_installion_dir]/server.cmd</code> In most cases Go is installed in <code>C:\Program Files\Go Server</code></li></ul><h3 id="using-jconsole"><a name="using-jconsole" class="plugin-anchor" href="#using-jconsole"><span class="fa fa-link"></span></a>Using JConsole</h3><p>JConsole is a graphical monitoring tool to monitor Java Virtual Machine (JVM) which comes as part of the JDK installation. It can be used to monitor the current state of a process without much overhead. If the Go server&apos;s performance is slow, some metrics can be immediately analysed using jconsole.</p><p>Since jconsole is a graphical tool, make sure you have an access to display, when running the following command. That is, use <code>ssh -X</code> or VNC if Go is on linux. Use remote desktop if the Go server is on windows.</p><pre><code class="lang-shell">$ jconsole
</code></pre><p>Select the local process <code>go.jar</code> when the jconsole GUI opens up. This shows the current heap memory usage, threads, cpu usage etc. Screenshots of the VM Summary and the overview page can be taken to be sent to the Go Support team, if required.</p><blockquote><p>Please note that in case of linux, jconsole will have to be started as &apos;go&apos; user. In Windows, starting the process as administrator should suffice.</p></blockquote><p>More information about jconsole can be found <a href="http://download.oracle.com/javase/1.5.0/docs/guide/management/jconsole.html" target="_blank">here</a>.</p><h3 id="cpu-and-memory-profiling"><a name="cpu-and-memory-profiling" class="plugin-anchor" href="#cpu-and-memory-profiling"><span class="fa fa-link"></span></a>CPU and memory profiling</h3><p>Yourkit java profiler is a recommended tool for profiling the CPU and memory of the GO Server.</p><p>To start using yourkit, download the latest version of the Yourkit java profiler from <a href="http://www.yourkit.com/download/index.jsp" target="_blank">http://www.yourkit.com/download/index.jsp</a>. Unpack to [yourkit_profiler_directory] The following steps will enable the Go server to pick up the yourkit profiler agent and enable us to take memory and cpu snapshots.</p><p>For Linux</p><ol><li><p>Create a symlink for <code>libyjpagent.so</code> file to <code>/usr/lib/yourkit</code> folder. When the Go server starts up, it looks at this folder to see if it needs to start with profiling enabled or not. If you want to change the default path of the yourkit agent, you can edit <code>server.sh</code> at <code>/usr/share/go-server/server.sh</code></p><pre><code class="lang-shell">$ sudo ln -s [yourkit_profiler_directory]/bin/linux-x86-32/libyjpagent.so /usr/lib/yourkit/libyjpagent.so
</code></pre><p>For 64-bit JVM, the command is:</p><pre><code class="lang-shell">$ sudo ln -s [yourkit_profiler_directory]/bin/linux-x86-64/libyjpagent.so /usr/lib/yourkit/libyjpagent.so
</code></pre></li><li><p>Restart the server after this, and the yourkit agent should get picked up by the server VM. Let the server start up and agents get registered.</p></li></ol><p>For Windows</p><ol><li>By default, Go server looks for the yourkit profiler agent yjpagent.dll in the location <code>C:\yjpagent.dll</code>. Therefore, copy the file <code>yjpagent.dll</code> (which is the yourkit profiler agent) from <code>[yourkit_profiler_directory]\bin\win32</code> to <code>C:\yjpagent.dll</code>. Copy the file from <code>[yourkit_profiler_directory}\bin\win64</code> if you are using 64 bit JVM.</li><li>To change the above mentioned default location: define environment variable <code>YOURKIT_PATH</code> with value equal to location of <code>yjpagent.dll</code>.</li><li><p>If you are running the Go server as a service, you will need to perform an additional step. In the config folder of the Go server installation, edit the <em><a href="installing_go_server.html">wrapper-properties.conf</a></em> file, and add an additional property with the following value</p><pre><code>&quot;-agentpath: [Path to yjpagent.dll]=port=6133,builtinprobes=none&quot;
</code></pre><p>For example, if there are 16 properties already defined, add this 17th property as shown below</p><pre><code>wrapper.java.additional.17=&quot;-agentpath:C:\yjpagent.dll=port=6133,builtinprobes=none&quot;
</code></pre></li></ol><p>Use the following steps to take profile the application and take snapshots. The <code>hostname</code> mentioned here is the hostname of the Go Server. In most cases, it would be &apos;localhost&apos;. The value of <code>port</code> is 6133, because Go starts the yjpagent on port 6133.</p><ol><li><p>To start profiling, run:</p><pre><code class="lang-shell">$ java -jar [yourkit_profiler_directory]/lib/yjp-controller-api-redist.jar hostname port  start-cpu-sampling
</code></pre><pre><code class="lang-shell">$ java -jar [yourkit_profiler_directory]/lib/yjp-controller-api-redist.jar hostname port start-monitor-profiling
</code></pre><p>If memory allocation profiling is also required:</p><pre><code class="lang-shell">$ java -jar [yourkit_profiler_directory]/lib/yjp-controller-api-redist.jar hostname port start-alloc-recording-adaptive
</code></pre></li><li><p>Let the server run for some time till you start seeing performance problems. 30 mins of snapshot should give us enough data.</p></li><li><p>To capture the snapshot - Run:</p><pre><code class="lang-shell">$ java -jar [yourkit_profiler_directory]/lib/yjp-controller-api-redist.jar hostname port capture-performance-snapshot
</code></pre><p>To capture memory snapshot</p><pre><code>$ java -jar [yourkit_profiler_directory]/lib/yjp-controller-api-redist.jar hostname port capture-memory-snapshot
</code></pre></li><li><p>To stop profiling, run:</p><pre><code>$ java -jar [yourkit_profiler_directory]/lib/yjp-controller-api-redist.jar hostname port stop-cpu-profiling`
</code></pre><pre><code>$ java -jar [yourkit_profiler_directory]/lib/yjp-controller-api-redist.jar hostname port stop-monitor-profiling
</code></pre><p>If memory profiling was turned on,s top it using the following command</p><pre><code>$ java -jar [yourkit_profiler_directory]/lib/yjp-controller-api-redist.jar hostname port stop-alloc-recording
</code></pre></li><li><p>Once you&apos;re done profiling, run the following so that on the next Go server restart, the agent is not loaded into the JVM.</p><p>In case of linux, run the following command:</p><pre><code>$ sudo rm /usr/lib/yourkit/libyjpagent.so
</code></pre></li></ol><p>In case of windows, delete the file <code>C:\yjpagent.dll</code>. If you were using the variable <code>YOURKIT_PATH</code>, then remove the environment variable.</p><p>These snapshots will be saved in the yourkit configured snapshots folder. They can be sent to the Go Support so that they can be examined to help find the root cause of the performance.</p><h3 id="contact-go-support"><a name="contact-go-support" class="plugin-anchor" href="#contact-go-support"><span class="fa fa-link"></span></a>Contact Go Support</h3><p>If the Go server continues to behave poorly, send us the following data.</p><ol><li><p>Database file <code>cruise.h2.db</code>. Stop the server and take a backup of the database. Location:</p><p>Linux: <code>/var/lib/db/h2db/cruise.h2.db</code></p><p>Windows: <code>[go_installation_dir]\db\h2db\cruise.h2.db</code></p></li><li><p>Log file <code>go-server.log</code>. Location:</p><p>Linux: <code>/var/log/go-server/go-server.log</code></p><p>Windows: <code>[go_installation_dir]\go-server.log</code></p></li><li><p>Go config file <code>cruise-config.xml</code>. Location:</p><p>Linux: <code>/etc/go/cruise-config.xml</code></p><p>Windows: <code>[go_installation_dir]\config\cruise-config.xml</code></p></li><li><p>If any Yourkit and jconsole snapshots as mentioned in the previous points, its useful if that can be sent too.</p></li></ol></section></div></div></div><a href="../installation/ssl_tls_config.html" class="navigation navigation-prev" aria-label="Previous page: Configuring SSL/TLS"><i class="fa fa-angle-left"></i></a> <a href="../installation/troubleshoot_installer.html" class="navigation navigation-next" aria-label="Next page: Troubleshoot installers"><i class="fa fa-angle-right"></i></a></div></div><script src="../gitbook/app.js"></script><script src="../gitbook/plugins/gitbook-plugin-ga/plugin.js"></script><script>require(["gitbook"],function(t){var i={fontSettings:{theme:null,family:"sans",size:2},ga:{token:"UA-48357651-1",configuration:"auto"},toc:{addClass:!0,className:"toc"},rtEditLinkBase:"https://github.com/gocd/documentation/edit/master/user",rtEditLinkLabel:"Edit This Page"};t.start(i)});</script><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-48357651-1","auto"),ga("send","pageview");</script></body></html>