function getInverseObj(a){return Object.keys(a).sort().reduce(function(b,c){return b[a[c]]="&"+c+";",b},{})}function getInverseReplacer(a){var b=[],c=[];return Object.keys(a).forEach(function(a){1===a.length?b.push("\\"+a):c.push(a)}),c.unshift("["+b.join("")+"]"),new RegExp(c.join("|"),"g")}function singleCharReplacer(a){return"&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"}function astralReplacer(a){var b=a.charCodeAt(0),c=a.charCodeAt(1),d=1024*(b-55296)+c-56320+65536;return"&#x"+d.toString(16).toUpperCase()+";"}function getInverse(a,b){function c(b){return a[b]}return function(a){return a.replace(b,c).replace(re_astralSymbols,astralReplacer).replace(re_nonASCII,singleCharReplacer)}}function escapeXML(a){return a.replace(re_xmlChars,singleCharReplacer).replace(re_astralSymbols,astralReplacer).replace(re_nonASCII,singleCharReplacer)}var inverseXML=getInverseObj(require("../maps/xml.json")),xmlReplacer=getInverseReplacer(inverseXML);exports.XML=getInverse(inverseXML,xmlReplacer);var inverseHTML=getInverseObj(require("../maps/entities.json")),htmlReplacer=getInverseReplacer(inverseHTML);exports.HTML=getInverse(inverseHTML,htmlReplacer);var re_nonASCII=/[^\0-\x7F]/g,re_astralSymbols=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,re_xmlChars=getInverseReplacer(inverseXML);exports.escape=escapeXML;