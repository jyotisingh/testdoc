exports.removeSubsets=function(a){for(var b,c,d,e=a.length;--e>-1;){for(b=c=a[e],a[e]=null,d=!0;c;){if(a.indexOf(c)>-1){d=!1,a.splice(e,1);break}c=c.parent}d&&(a[e]=b)}return a};var POSITION={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},comparePos=exports.compareDocumentPosition=function(a,b){var c,d,e,f,g,h,i=[],j=[];if(a===b)return 0;for(c=a;c;)i.unshift(c),c=c.parent;for(c=b;c;)j.unshift(c),c=c.parent;for(h=0;i[h]===j[h];)h++;return 0===h?POSITION.DISCONNECTED:(d=i[h-1],e=d.children,f=i[h],g=j[h],e.indexOf(f)>e.indexOf(g)?d===b?POSITION.FOLLOWING|POSITION.CONTAINED_BY:POSITION.FOLLOWING:d===a?POSITION.PRECEDING|POSITION.CONTAINS:POSITION.PRECEDING)};exports.uniqueSort=function(a){var b,c,d=a.length;for(a=a.slice();--d>-1;)b=a[d],c=a.indexOf(b),c>-1&&d>c&&a.splice(d,1);return a.sort(function(a,b){var c=comparePos(a,b);return c&POSITION.PRECEDING?-1:c&POSITION.FOLLOWING?1:0}),a};