function getStrictDecoder(a){var b=Object.keys(a).join("|"),c=getReplacer(a);b+="|#[xX][\\da-fA-F]+|#\\d+";var d=new RegExp("&(?:"+b+");","g");return function(a){return String(a).replace(d,c)}}function sorter(a,b){return b>a?1:-1}function getReplacer(a){return function(b){return"#"===b.charAt(1)?decodeCodePoint("X"===b.charAt(2)||"x"===b.charAt(2)?parseInt(b.substr(3),16):parseInt(b.substr(2),10)):a[b.slice(1,-1)]}}var entityMap=require("../maps/entities.json"),legacyMap=require("../maps/legacy.json"),xmlMap=require("../maps/xml.json"),decodeCodePoint=require("./decode_codepoint.js"),decodeXMLStrict=getStrictDecoder(xmlMap),decodeHTMLStrict=getStrictDecoder(entityMap),decodeHTML=function(){function a(a){return";"!==a.substr(-1)&&(a+=";"),g(a)}for(var b=Object.keys(legacyMap).sort(sorter),c=Object.keys(entityMap).sort(sorter),d=0,e=0;d<c.length;d++)b[e]===c[d]?(c[d]+=";?",e++):c[d]+=";";var f=new RegExp("&(?:"+c.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),g=getReplacer(entityMap);return function(b){return String(b).replace(f,a)}}();module.exports={XML:decodeXMLStrict,HTML:decodeHTML,HTMLStrict:decodeHTMLStrict};