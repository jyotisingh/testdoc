function CollectingHandler(a){this._cbs=a||{},this.events=[]}module.exports=CollectingHandler;var EVENTS=require("./").EVENTS;Object.keys(EVENTS).forEach(function(a){if(0===EVENTS[a])a="on"+a,CollectingHandler.prototype[a]=function(){this.events.push([a]),this._cbs[a]&&this._cbs[a]()};else if(1===EVENTS[a])a="on"+a,CollectingHandler.prototype[a]=function(b){this.events.push([a,b]),this._cbs[a]&&this._cbs[a](b)};else{if(2!==EVENTS[a])throw Error("wrong number of arguments");a="on"+a,CollectingHandler.prototype[a]=function(b,c){this.events.push([a,b,c]),this._cbs[a]&&this._cbs[a](b,c)}}}),CollectingHandler.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},CollectingHandler.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var a=0,b=this.events.length;b>a;a++)if(this._cbs[this.events[a][0]]){var c=this.events[a].length;1===c?this._cbs[this.events[a][0]]():2===c?this._cbs[this.events[a][0]](this.events[a][1]):this._cbs[this.events[a][0]](this.events[a][1],this.events[a][2])}};